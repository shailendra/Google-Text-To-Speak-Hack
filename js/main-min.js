!function(){var e=function(){this.initialize()},t=e.prototype;t.body,t.isIFrame,t.rate,t.pitch,t.initialize=function(){var e=this;this.body=document.querySelector("body"),this.synth=window.speechSynthesis,this.rate=.7,this.pitch=1,window.location!==window.parent.location?(this.isIFrame=!0,this.setupHangout()):(this.isIFrame=!1,this.setupMouseUp()),void 0!==this.synth.onvoiceschanged&&(this.synth.onvoiceschanged=function(){e.setVoices()}),this.setVoices()},t.setVoices=function(){this.voices=this.synth.getVoices(),this.femaleVoice=this.voices[9],this.maleVoice=this.voices[5]},t.setupMouseUp=function(){var e=this;this.body.addEventListener("mouseup",function(t){if(t.shiftKey){var i=window.getSelection().toString();i&&""!=i&&e.speak({text:i})}})},t.speak=function(e){var t=this;if(this.synth.speaking&&(this.synth.cancel(),clearTimeout(t.tempTimeoutId),clearTimeout(t.tempTimeoutId_2),clearTimeout(t.tempTimeoutId_3)),""!==e.text){e.text=e.text.replace(/\./g,", "),e.text=e.text.replace(/ ,/g,", "),e.text=escape(e.text),e.text=e.text.replace(/%0A/g,", "),e.text=unescape(e.text);var i=new SpeechSynthesisUtterance(e.text);i.onend=function(e){},i.onerror=function(e){clearTimeout(t.tempTimeoutId)},this.tempTimeoutId=setTimeout(function e(){t.synth.pause(),t.synth.resume(),t.tempTimeoutId=setTimeout(e,1e4)},1e4),this.tempTimeoutId_2=setTimeout(function(){clearTimeout(t.tempTimeoutId)},8e4),this.tempTimeoutId_3=setTimeout(function(){t.synth.pause(),t.synth.resume()},2e3),null!=e.gender&&"M"==e.gender?i.voice=this.maleVoice:i.voice=this.femaleVoice,i.pitch=t.pitch,i.rate=t.rate,this.synth.speak(i)}},t.setupOnBodyModify=function(){var e=this;this.body.addEventListener("DOMNodeInserted",function(t){var i=t.target.querySelectorAll("iframe");i.length>0&&e.onHangoutIframeLoad({iframe:i[0]})})},t.setupHangout=function(){this.body=document.querySelector("body");var e=this;this.body.addEventListener("click",function(t,i){var n=e.body.querySelectorAll(".TmwRj"),o=t.target.closest(".TmwRj");if(null!=o)for(let t=0;t<n.length;t++){const i=n[t];i.innerHTML===o.innerHTML&&e.speakSingleHangoutMessage(i)}},!1)},t.speakSingleHangoutMessage=function(e){for(var t=e.querySelectorAll(".KL span:not([aria-hidden='true'])"),i="",n=0;n<t.length;n++){i+=t[n].innerText+", "}this.speak({text:i,gender:"F"})},window.HangoutHack=e}();var hangoutHack=new window.HangoutHack;